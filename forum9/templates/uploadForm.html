<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Upload</title>
    <link rel="stylesheet" href="/static/style.css">
</head>
<body>
    <div class="container">
        <h2>Upload</h2>
        <form action="/upload" method="post" enctype="multipart/form-data">
            <label for="title">Title:</label>
            <input type="text" id="title" name="title" required>
            <label for="file">Drag & Drop files here or click to select files:</label>
            <div id="drag-drop-area" class="drag-drop" onclick="document.getElementById('file').click();">
                Drag & Drop files here or click to select files
            </div>
            <input type="file" id="file" name="file" style="display: none;" onchange="previewFiles()">
            <div class="button-group">
                <button type="submit" class="button">Post</button>
            </div>
        </form>
        <div id="previewContainer" style="display: none;">
            <div id="previewImages" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
        </div>
    </div>
    <script>
        function previewFiles() {
            const files = document.getElementById('file').files;
            const previewContainer = document.getElementById('previewContainer');
            const previewImages = document.getElementById('previewImages');

            previewImages.innerHTML = '';
            Array.from(files).forEach(file => {
                const reader = new FileReader();
                reader.onload = function (e) {
                    const img = document.createElement('img');
                    img.src = e.target.result;
                    img.style.maxWidth = '100%';
                    img.style.height = 'auto';
                    previewImages.appendChild(img);
                };
                reader.readAsDataURL(file);
            });

            previewContainer.style.display = 'block';
        }

        const dragDropArea = document.getElementById('drag-drop-area');
        dragDropArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            dragDropArea.classList.add('dragover');
        });

        dragDropArea.addEventListener('dragleave', () => {
            dragDropArea.classList.remove('dragover');
        });

        dragDropArea.addEventListener('drop', (e) => {
            e.preventDefault();
            dragDropArea.classList.remove('dragover');
            const files = e.dataTransfer.files;
            document.getElementById('file').files = files;
            previewFiles();
        });

        dragDropArea.addEventListener('click', () => {
            document.getElementById('file').click();
        });
    </script>
</body>
</html>

<!-- 
<div id="uploadfile" class="form-container" style="display: none;">
    <form id="fileUploadForm" action="/upload" method="POST" enctype="multipart/form-data">
       <label for="title">Title:</label>
       <input type="text" id="title" name="title" required>
       <label for="file">Drag & Drop files here or click to select files:</label>
       <div id="drag-drop-area" class="drag-drop">Drag & Drop files here or click to select files</div>
       <input type="file" id="file" name="file" style="display: none;" multiple onchange="previewFiles()">
       <div class="button-group">
           <button type="button" class="button" onclick="saveDraft()">Save draft</button>
           <button type="submit" class="button">Post</button>
       </div>
   </form>
   <div id="previewContainer" style="display: none;">
       <div id="previewImages" style="display: flex; flex-wrap: wrap; gap: 10px;"></div>
   </div>
</div>
<div id="postedContent" class="form-container"></div> -->
